<!doctype html>
<html lang="zh-cn" class="mdui-theme-auto">
    <head>
        <meta charset="UTF-8" />
        <link rel="icon" type="image/icon" href="/favicon.ico" />
        <meta
            name="viewport"
            content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=contain"
        />
        <link rel="stylesheet" href="/MaterialIcons/regular.css" />
        <link rel="manifest" href="/manifest.json" />
        <link rel="stylesheet" href="//res.realtvop.top/mdui/fonts/roboto.css" />
        <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1f" />
        <meta name="theme-color" media="(prefers-color-scheme: light)" content="#fefbff" />
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta name="mobile-web-app-capable" content="yes" />
        <meta name="description" content="SaltNet: 舞萌DX查分器" />
        <meta name="keyword" content="舞萌DX, 水鱼, b50" />
        <meta name="author" content="realtvop" />
        <title>SaltNet</title>
        <script>
            window.spec = {
                currentVersionBuildTime: "%buildTime%",
            };
        </script>

        <!-- Google tag (gtag.js) -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-MSZDDD7P09"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag() {
                dataLayer.push(arguments);
            }
            gtag("js", new Date());

            gtag("config", "G-MSZDDD7P09");
        </script>
    </head>
    <body>
        <div id="rescue" style="height: 0">
            <a
                href="javascript:void(0)"
                onclick="event.preventDefault();(async()=>{if('caches' in window){const cacheName='SaltNetv0-Main';try{const hasCache=await caches.has(cacheName);if(hasCache){await caches.delete(cacheName);console.log(`Cache &quot;${cacheName}&quot; cleared.`);}}catch(e){console.error('Rescue error:',e);}}location.reload();})()"
            >
                救砖
            </a>
        </div>
        <div id="app"></div>
        <script type="module" src="/src/main.ts"></script>
        <script>
            if (
                [80, 443, 1443, "1443", "", "1145"].includes(location.port) ||
                location.hostname == "saltnet-cachedev.localhost"
            )
                navigator.serviceWorker
                    .register("/sw.js", { scope: "/" })
                    .then(reg => console.log("SW_Reg_Success: ", reg.scope))
                    .catch(err => console.log("SW_Reg_Failed: ", err));
        </script>
    </body>
</html>
